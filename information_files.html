<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.12: http://docutils.sourceforge.net/" />
<title>Information files</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7614 2013-02-21 15:55:51Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="information-files">
<h1 class="title">Information files</h1>

<div class="section" id="basic-principals">
<h1>Basic principals</h1>
<ul class="simple">
<li>Files, in JSON or YAML format, provide a hierearchy of objects, from Network to Filter,
that allow the user to fully specify seismological network stations based on their
components and configurations.</li>
<li>Most objects correspond to StationXML elements, but there are also objects to
specify processing steps and to configure the instrumentation.</li>
<li>Filenames are {<em>specific element</em>}.{<em>object</em>}.{yaml,json}.</li>
<li>The base level of each file contains provenance information plus
the type-specific object:<ul>
<li><tt class="docutils literal">format_version</tt> (REQUIRED): version of the information file format</li>
<li><tt class="docutils literal">revision</tt> (REQUIRED): Who made the file and when</li>
<li><tt class="docutils literal">yaml_anchors</tt> (optional):  Used to define YAML anchors (groups
of objects that can be inserted elsewhere, reducing redundancy/errors)</li>
<li>{<em>object</em>}: same as in the filename</li>
</ul>
</li>
<li>Any object can have the fields:<ul>
<li><tt class="docutils literal">notes</tt>: Notes that will not be put into the StationXML file.</li>
<li><tt class="docutils literal">extras</tt>: Fields that don't exist in the definition.</li>
</ul>
</li>
</ul>
<dl class="docutils">
<dt>Files refer to other files &quot;downstream&quot; using</dt>
<dd><a class="reference external" href="https://tools.ietf.org/html/rfc6901">JSON Pointers</a> syntax (&quot;<tt class="docutils literal">$ref:</tt>&quot;), which we
have expanded to also work on YAML files. <a class="footnote-reference" href="#id2" id="id1">[1]</a></dd>
</dl>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>A <tt class="docutils literal">$config:</tt> key could allow the code to evaluate some of the
<tt class="docutils literal">config</tt> and <tt class="docutils literal">serial_number</tt> information before reading the
referenced file, which could reduce the amount of information to read.
Is it worth the added complexity?</td></tr>
</tbody>
</table>
</div>
<div class="section" id="configuration">
<h1>Configuration</h1>
<p>Stations can be configured based on instrumentation/component serial numbers
and/or configurations, or direct entry of values to modify.</p>
<ol class="arabic simple">
<li><strong>Configuration definitions</strong>: specify possible configurations:<ul>
<li><tt class="docutils literal">serial_number_definitions</tt>: (differences between individual elements)</li>
<li><tt class="docutils literal">config_definitions</tt>:        (options for a given element)</li>
</ul>
</li>
<li><strong>Configuration specifications</strong>: specify the configuration
used by a given station and/or instrumentation:<ul>
<li><tt class="docutils literal">serial_number</tt></li>
<li><tt class="docutils literal">config</tt></li>
<li>or direct specification of the fields to change</li>
</ul>
</li>
</ol>
<p><tt class="docutils literal">config</tt> implements the corresponding <tt class="docutils literal">config_definition</tt> and <tt class="docutils literal">serial_number</tt> implements the corresponding <tt class="docutils literal">serial_number_description</tt> AND sets the corresponding <tt class="docutils literal">equipment:serial_number</tt> field.  The order of
interpretation is <tt class="docutils literal">serial_number</tt>, then <tt class="docutils literal">config</tt>, then any direct specification.
It is an error to specify a  <tt class="docutils literal">config</tt> with no corresponding
<tt class="docutils literal">config_deinition</tt>, but not to specify a <tt class="docutils literal">serial_number</tt> with no corresponding
<tt class="docutils literal">serial_number_definition</tt>.</p>
<p><tt class="docutils literal">serial_numberdefinition</tt>, <tt class="docutils literal">config_definition</tt> and direct specification objects
use the same structure as the object they modify, but specify only the fields to be changed.
For example, a Datalogger specified in the file &quot;<tt class="docutils literal">LC2000.datalogger.yaml</tt>&quot; as:</p>
<pre class="literal-block">
datalogger:
     equipment:
         model: &quot;CS5321/22&quot;
         description: &quot;CS5321/22 delta-sigma A/D converter + FIR digital filter&quot;
     note: &quot;I like to write things down&quot;
     sample_rate: 125
     configuration_definitions:
         &quot;125sps&quot;:
             equipment:
                 description: &quot;CS5321/22 delta-sigma A/D converter + FIR digital filter [config=125sps]&quot;
             sample_rate: 125
         &quot;500sps&quot;:
             equipment:
                 description: &quot;Crazy 500sps config&quot;
             sample_rate: 500
</pre>
<p>and instantiated as:</p>
<pre class="literal-block">
base: $ref: &quot;LC2000.datalogger.yaml#datalogger&quot;
config: &quot;500sps&quot;
</pre>
<p>would return:</p>
<pre class="literal-block">
equipment:
    model: &quot;CS5321/22&quot;
    description: &quot;Crazy 500sps config&quot;
note: &quot;I like to write things down&quot;
sample_rate: 500
</pre>
<p>(<em>note: this is a simplifed datalogger object which would not validate</em>).
Most configuration specifications are made in the <tt class="docutils literal">Network</tt> file, although
<a class="reference internal" href="#instrument-component-configuration">Instrument Component Configuration</a> specifications can also be made in the
<tt class="docutils literal">Instrumentation</tt> file (for example, to set the default amplifier gain).  Specifications
made in a <tt class="docutils literal">Network</tt> file will override any conflicting specifications in the
<tt class="docutils literal">Instrumentation</tt> file (SRD).</p>
</div>
<div class="section" id="objects">
<h1>Objects</h1>
<p>A chain of objects is needed to fully specify a station and its processing.
All of the objects can be in one file, but they are usually divided into
different files for clarity, portability, and to avoid repetition (DRY).
Typical file levels are Network, Instrumentation, Instrument Components
(Sensors, Dataloggers and Preamplifiers), Responses and Filters.</p>
<hr class="docutils" />
<div class="section" id="network">
<h2>Network</h2>
<p>Specify the stations deployed by an OBS facility during an experiment.  Fields
are:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">facility</tt>:</th><td class="field-body">Basic information about the OBS facility.  <tt class="docutils literal">ref_name</tt> should
match the second field in the filename.  <tt class="docutils literal">full_name</tt> will be
put in the StationXML file</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">campaign_ref_name</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">Should match the <tt class="docutils literal">reference_name</tt> field in the
Campaign file</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">network_info</tt>:</th><td class="field-body">FDSN network information.  If you have declared a network
with FDSN, the contents of these fields should match the
values on the FDSN website</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">stations</tt>:</th><td class="field-body">descriptions of each station.  Subfields are objects with key =
{<tt class="docutils literal">STATION_NAME</tt>} and value = <a class="reference internal" href="#station">Station</a> object.</td>
</tr>
</tbody>
</table>
</div>
<hr class="docutils" />
<div class="section" id="station">
<h2>Station</h2>
<p>Description of one station.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">site</tt>:</th><td class="field-body">StationXML &quot;site&quot; field</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">start_date</tt>:</th><td class="field-body">StationXML station <tt class="docutils literal">start_date</tt> field.  Also used for
channels if they are not separately entered</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">end_date</tt>:</th><td class="field-body">StationXML station <tt class="docutils literal">end_date</tt> field.</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">location_code</tt>:</th><td class="field-body">Station location code.  Will also be used for
channels if they are not separately entered.</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">locations</tt>:</th><td class="field-body">descriptions of each location code:  fields are the same
as in StationXML except <tt class="docutils literal">uncertainties.m</tt> (all values are in
meters) and <tt class="docutils literal">localisation_method</tt> (description of how the
location was determined)</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">processing</tt>:</th><td class="field-body">Provenance information about how the data was transformed from
raw to the final version.  There is no corresponds field in
StationXML, so subfields are saved as StationXML comments</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">extras</tt>:</th><td class="field-body">Subfields are saved to StationXML comments.</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">instruments</tt>:</th><td class="field-body">List of <a class="reference internal" href="#instrumentation-configuration">Instrumentation Configuration</a> s making up the
station</td>
</tr>
</tbody>
</table>
</div>
<hr class="docutils" />
<div class="section" id="instrumentation-configuration">
<h2>Instrumentation Configuration</h2>
<p>A configured <a class="reference internal" href="#instrumentation">Instrumentation</a> object</p>
<p>In the list below, later fields can modify earlier ones</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">base</tt>:</th><td class="field-body">An <a class="reference internal" href="#instrumentation">Instrumentation</a> object</td>
</tr>
</tbody>
</table>
<div class="section" id="configuration-specification-fields-all-optional">
<h3>Configuration Specification Fields (all optional)</h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">serial_number</tt>:</th><td class="field-body"><p class="first">Specify the <a class="reference internal" href="#instrumentation">Instrumentation</a>  serial number (and
<tt class="docutils literal">serial_number_definition</tt> if it exists)</p>
</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">config</tt>:</th><td class="field-body"><p class="first">Specify the <a class="reference internal" href="#instrumentation">Instrumentation</a> <tt class="docutils literal">configuration_definition</tt></p>
</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">datalogger_config</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><p class="first">Specify the <a class="reference internal" href="#datalogger">Datalogger</a> <tt class="docutils literal">configuration_definition</tt>
for all channels (shortcut for
<tt class="docutils literal">channel_mods: {base: {datalogger: config}}</tt></p>
</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">datalogger_serial_number</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><p class="first">Specify the <a class="reference internal" href="#datalogger">Datalogger</a> <tt class="docutils literal">serial_number</tt> (and
<tt class="docutils literal">serial_number_definition</tt> if it exists).  Shortcut for
<tt class="docutils literal">channel_mods: {base: {datalogger: serial_number}}</tt></p>
</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">sensor_config</tt>:</th><td class="field-body"><p class="first">Shortcut for
<tt class="docutils literal">channel_mods: {base: {sensor: config}}</tt></p>
</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">sensor_serial_number</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><p class="first">Shortcut for
<tt class="docutils literal">channel_mods: {base: {sensor: serial_number}}</tt></p>
</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">preamplifier_config</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><p class="first">Shortcut for
<tt class="docutils literal">channel_mods: {base: {preamplifier: config}}</tt></p>
</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">preamplifier_serial_number</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><p class="first">Shortcut for
<tt class="docutils literal">channel_mods: {base: {preamplifier: serial_number}}</tt></p>
</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">channel_mods</tt>:</th><td class="field-body"><p class="first">Specify <a class="reference internal" href="#channel">Channel</a> configurations.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">base</tt>:</th><td class="field-body"><a class="reference internal" href="#channel-configuration">Channel Configuration</a> applied to all channels.</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">by_orientation</tt>/{ORIENTATION-CODE}:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><a class="reference internal" href="#channel-configuration">Channel Configuration</a> applied to
individual channels, keyed by their SEED orientation code</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">by_das</tt>/{DAS-CODE}``:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><a class="reference internal" href="#channel-configuration">Channel Configuration</a> applied to individual channels,
keyed by their data acquisition system (DAS) code.
Use when a station has more than one channel with the same
orientation code.</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">by_chan_loc</tt>/{CHAN_LOC}:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><a class="reference internal" href="#channel-configuration">Channel Configuration</a> applied to individual
channels, keyed by their channel and location codes.
Alternative to <tt class="docutils literal">by_das</tt>, when it's easier/clearer to write out
channel_location codes</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<hr class="docutils" />
<div class="section" id="channel-configuration">
<h2>Channel Configuration</h2>
<p>Specify <a class="reference internal" href="#channel">Channel</a> modificiations and deployment-specific information</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">sensor</tt>:</th><td class="field-body">Modifications to Sensor (see <a class="reference internal" href="#instrument-component-configuration">Instrument Component Configuration</a>)</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">datalogger</tt>:</th><td class="field-body">Modifications to Datalogger (see <a class="reference internal" href="#instrument-component-configuration">Instrument Component Configuration</a>)</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">preamplifier</tt>:</th><td class="field-body">Modifications to Preamplifier (see <a class="reference internal" href="#instrument-component-configuration">Instrument Component Configuration</a>)</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">location_code</tt>:</th><td class="field-body">Channel's location code</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">start_date</tt>:</th><td class="field-body">Channel start date (if different from station)</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">end_date</tt>:</th><td class="field-body">channel end date (if different from station)</td>
</tr>
</tbody>
</table>
</div>
<hr class="docutils" />
<div class="section" id="instrument-component-configuration">
<h2>Instrument Component Configuration</h2>
<p>Specify <a class="reference internal" href="#instrument-component">Instrument Component</a> modifications</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">base</tt>:</th><td class="field-body">Full Instrument Component description (see <a class="reference internal" href="#instrument-component">Instrument Component</a>)</td>
</tr>
</tbody>
</table>
<div class="section" id="configuration-specification-fields">
<h3>Configuration Specification Fields</h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">config</tt>:</th><td class="field-body">Activate <a class="reference internal" href="#instrument-component">Instrument Component</a>-level
<tt class="docutils literal">configuration_definition</tt></td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">serial_number</tt>:</th><td class="field-body">Specify Instrument Component serial number and apply
corresponding <tt class="docutils literal">serial_number_definitions</tt>, if they exist</td>
</tr>
</tbody>
</table>
</div>
</div>
<hr class="docutils" />
<div class="section" id="instrumentation">
<h2>Instrumentation</h2>
<p>Specify a scientfic instrument (OBS, field station), as equipment and channels</p>
<p>Fields are:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">equipment</tt>:</th><td class="field-body">Corresponds to StationXML Equipment object</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">base_channel</tt>:</th><td class="field-body">(optional) A <a class="reference internal" href="#channel">Channel</a> object.
Simplifies specifying <tt class="docutils literal">das_channels</tt> (below) if
the same datalogger|preamplifier|sensor is used on more than
one channel.  Choose the most common instrumentation channel
(for example, many seismometers have the same sensor
description on three channels).  The &quot;<tt class="docutils literal">orientation_code</tt>&quot;
subfield is ignored.</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">das_channels</tt>:</th><td class="field-body">A possibly incomplete <a class="reference internal" href="#channel">Channel</a> object.  Values provided
replace those in <tt class="docutils literal">base_channel</tt></td>
</tr>
</tbody>
</table>
<div class="section" id="configuration-definition-fields">
<h3>Configuration Definition Fields</h3>
<p>Modifications to the above-mentioned fields.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">configuration_definitions</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">optional configurations</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">serial_number_definitions</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">serial number based modifications</td>
</tr>
</tbody>
</table>
</div>
</div>
<hr class="docutils" />
<div class="section" id="channel">
<h2>Channel</h2>
<p>Specify an Instrumentation Channel (Instrument Components and an
orientation code). <a class="reference internal" href="#response">Response</a> objects for each Instrument component are stacked
from sensor (top) to datalogger (bottom)</p>
<div class="section" id="fields">
<h3>Fields:</h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">sensor</tt>:</th><td class="field-body">Sensor Instrument_Component</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">preamplifier</tt>:</th><td class="field-body">(optional) Preamplifier Instrument_Component</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">datalogger</tt>:</th><td class="field-body">Datalogger Instrument_Component</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">preamlifier_config</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">(optional) preamplifier configuration code</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">sensor_config</tt>:</th><td class="field-body">(optional) sensor configuration code</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">datalogger_config</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">(optional) datalogger configuration code</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">orientation_code</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">SEED orientation code.</td>
</tr>
</tbody>
</table>
</div>
</div>
<hr class="docutils" />
<div class="section" id="instrument-component">
<h2>Instrument Component</h2>
<p>Specify an Instrument Component: <tt class="docutils literal">sensor</tt>, <tt class="docutils literal">preamplifier</tt> or <tt class="docutils literal">datalogger</tt>.</p>
<div class="section" id="shared-fields">
<h3>Shared fields:</h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">equipment</tt>:</th><td class="field-body">Corresponds to StationXML Equipment object</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">config_description</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">Description of the default configuration.  Can be left
empty if there is only one configuration.</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">responses_ordered</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">an ordered list of responses (see <a class="reference internal" href="#response">Response</a>)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id3">
<h3>Configuration Definition Fields</h3>
<p>modifications to the above-mentioned fields (plus any specific to the given
Instrument Component type).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">serial_number_definitions</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">serial-number based modifications</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">configuration_definitions</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">optional configurations</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="component-specific-fields">
<h3>Component-specific Fields:</h3>
</div>
<div class="section" id="datalogger">
<h3>Datalogger</h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">sample_rate</tt>:</th><td class="field-body"><p class="first">samples per second</p>
</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">delay_correction</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><p class="first">time correction applied to data to compensate FIR delay:</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">numeric:</th><td class="field-body">seconds delay to specify in last stage (for software correction
of delay)</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">True</tt>:</th><td class="field-body">specify a correction in each stage corresponding to the specified
delay in that stage</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">False</tt>:</th><td class="field-body">No correction will be specified (same as numeric = 0)</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sensor">
<h3>Sensor</h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">seed_codes</tt>:</th><td class="field-body"><p class="first">SEED codes to give to channels using this sensor</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">band_base</tt>:</th><td class="field-body"><p class="first">Base SEED band code: &quot;B&quot; for broadband, &quot;S&quot; for short
period: obsinfo will determine the sample-rate-dependent band
codes to use for a given acquisition channel.</p>
</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">instrument</tt>:</th><td class="field-body"><p class="first">SEED instrument code</p>
</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">orientation</tt>:</th><td class="field-body"><p class="first">SEED orientation codes that can be associated with this
sensor. Each code is a key for an object containing:</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">azimuth.deg</tt>:</th><td class="field-body">2-element array of [value, uncertainty]</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">dip.deg</tt>:</th><td class="field-body">2-element array of [value, uncertainty]</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="preamplifier">
<h3>Preamplifier</h3>
<p>None</p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="response">
<h2>Response</h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">stages</tt>:</th><td class="field-body"><p class="first">List of response stages, most sub-elements are StationXML fields</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">description</tt>:</th><td class="field-body">string</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">name</tt>:</th><td class="field-body">string [<tt class="docutils literal">None</tt>]</td>
</tr>
<tr class="field"><th class="field-name"><cite>input_units`</cite>:</th><td class="field-body">object with fields <tt class="docutils literal">name</tt> and <tt class="docutils literal">description</tt></td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">output_units</tt>:</th><td class="field-body">object with fields <tt class="docutils literal">name</tt> and <tt class="docutils literal">description</tt></td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">gain</tt>:</th><td class="field-body">object with fields <tt class="docutils literal">value</tt> and <tt class="docutils literal">frequency</tt></td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">decimation_factor</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">factor by which this stage decimates data [1]</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">output_sample_rate</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">output sample rate [sps]</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">delay</tt>:</th><td class="field-body">Delay in seconds of the stage [0]</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">calibration_date</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">date of calibration that gave this response [<cite>None</cite>]</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">filter</tt>:</th><td class="field-body"><a class="reference internal" href="#filter">Filter</a> object</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
<hr class="docutils" />
<div class="section" id="filter">
<h2>Filter</h2>
<p>Description of a filter.  Keys depend on the <tt class="docutils literal">type</tt></p>
<div class="section" id="common-fields">
<h3>Common fields:</h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">type</tt>:</th><td class="field-body">&quot;<tt class="docutils literal">PolesZeros</tt>&quot;, &quot;<tt class="docutils literal">Coefficients</tt>&quot;, &quot;<tt class="docutils literal">ResponseList</tt>&quot;,
&quot;<tt class="docutils literal">FIR</tt>&quot;, &quot;<tt class="docutils literal">ANALOG</tt>&quot;, &quot;<tt class="docutils literal">DIGITAL</tt>&quot; or &quot;<tt class="docutils literal">AD_CONVERSION</tt>&quot;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="poleszeros-specific-fields">
<h3><cite>PolesZeros</cite>-specific fields:</h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">units</tt>:</th><td class="field-body">string (only <tt class="docutils literal">rad/s</tt> has been verified)</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">poles</tt>:</th><td class="field-body">List of poles in the above units.  Each elements is a 2-element array
containing the real and imaginary parts</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">zeros</tt>:</th><td class="field-body">List of zeros, specified as above</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">normalization_frequency</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">As in StationXML</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">normatlization_factor</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">As in StationXML</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="fir-specific-fields">
<h3><cite>FIR</cite>-specific fields:</h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">symmetry</tt>:</th><td class="field-body"><tt class="docutils literal">ODD</tt>, <tt class="docutils literal">EVEN</tt> or <tt class="docutils literal">NONE</tt></td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">delay.samples</tt>:</th><td class="field-body">samples delay for this FIR stage</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">coefficients</tt>:</th><td class="field-body">list of FIR coefficients</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">coefficient_divisor</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">Value to divide coefficients by to obtain equal energy
in the input and the output</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="coefficients-specific-fields">
<h3><cite>Coefficients</cite>-specific fields:</h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">transfer_function_type</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">&quot;<tt class="docutils literal">ANALOG (RADIANS/SECOND)</tt>&quot;, &quot;<tt class="docutils literal">ANALOG (HERTZ)</tt>&quot;, or
&quot;<tt class="docutils literal">DIGITAL</tt>&quot;</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">numerator_coefficients</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">list</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">denominator_coefficients</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">list</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="responselist-specific-fields">
<h3><cite>ResponseList</cite>-specific fields:</h3>
<p>List of [frequency (Hz), amplitude, phase (degrees)] lists</p>
</div>
<div class="section" id="analog-specific-fields">
<h3><cite>ANALOG</cite>-specific fields:</h3>
<p>None.  Becomes a StationXML <cite>PolesZeros</cite> stage without poles or zeros,
<tt class="docutils literal">normalization_freq</tt> = 0 and <tt class="docutils literal">normalization_factor</tt> = 1.0</p>
</div>
<div class="section" id="digital-specific-fields">
<h3><cite>DIGITAL</cite>-specific fields:</h3>
<p>None.  Becomes a StationXML <cite>Coefficients</cite> stage with
<tt class="docutils literal">numerator = [1.0]</tt> and <tt class="docutils literal">denominator = []</tt></p>
</div>
<div class="section" id="ad-conversion-specific-fields">
<h3><cite>AD_CONVERSION</cite>-specific fields:</h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">input_full_scale</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">full scale value (volts)</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">output_full scale</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">full scale value (counts)</td>
</tr>
</tbody>
</table>
<p>Behaves the same as <cite>DIGITAL</cite>, the fields are for information only.</p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="processing">
<h2>Processing</h2>
<p>Steps used in processing data (Provenance metadata).
NO STATIONXML EQUIVALENT, values are saved in StationXML comments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">clock_correct_linear drift</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><p class="first">correction for a linear drift.  Values are:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">time_base</tt>:</th><td class="field-body">string describing the instrument's onboard time base</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">reference</tt>:</th><td class="field-body">string describing the time reference used for synchronization</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">start_sync_reference</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">time of start sync, viewed on reference clock</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">start_sync_instrument</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">time of start sync, viewed on instrument clock
(can be '0' if same as <tt class="docutils literal">start_sync_reference</tt>)</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">end_sync_reference</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">time of end sync, viewed on reference clock</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">end_sync_instrument</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">time of end sync, viewed on instrument clock</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">clock_correct_leapsecond</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body"><p class="first">correction for leapsecond(s).  Values are:</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name"><tt class="docutils literal">time</tt>:</th><td class="field-body">Time of the leap second</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">type</tt>:</th><td class="field-body">'+' or '-'</td>
</tr>
<tr class="field"><th class="field-name"><tt class="docutils literal">description</tt>:</th><td class="field-body">&quot;Positive leapsecond (a 61-second minute)&quot; or
&quot;Negative leapsecond (a 59-second minute)&quot;</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">corrected_in_end_sync</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">is the provided end_sync_instrument corrected
for this leapsecond?</td>
</tr>
<tr class="field"><th class="field-name" colspan="2"><tt class="docutils literal">corrected_in_data</tt>:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">were the OBS output data automatically/previously
corrected for this leapsecond?</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</body>
</html>
