---
format_version: "0.107"
notes:
    - "Oddball instruments and examples of specifying different localisation methods"
yaml_anchors:
    obs_clock_correction_linear_defaults: &LINEAR_CLOCK_DEFAULTS
        time_base: "Seascan MCXO, ~1e-8 nominal drift"
        reference: "GPS"
        start_sync_instrument: 0
    location_defaults: &LOC_DEFAULTS
        depth.m: 0
        geology: "unknown"
        vault: "Sea floor"                    
    location_buc_direct: &LOC_BUC_DIRECT
        <<: *LOC_DEFAULTS
        uncertainties.m: {lon: 5, lat: 5, elev: 10}
        localisation_method: "Short baseline transponder, seafloor release"
    location_buc_drop: &LOC_BUC_DROP
        <<: *LOC_DEFAULTS
        uncertainties.m: {lon: 20, lat: 20, elev: 20}
        localisation_method: "Short baseline transponder, near-seafloor release"
    location_surface_drop: &LOC_SURFACE_DROP
        <<: *LOC_DEFAULTS
        uncertainties.m: {lon: 200, lat: 200, elev: 20}
        localisation_method: "Position is the sea-surface release point"
    location_acoustic: &LOC_ACOUSTIC
        <<: *LOC_DEFAULTS
        uncertainties.m: {lon: 5, lat: 5, elev: 10}
        localisation_method: "Acoustic survey"
    location_airgun: &LOC_AIRGUN
        <<: *LOC_DEFAULTS
        uncertainties.m: {lon: 40, lat: 40, elev: 20}
        localisation_method: "Airgun survey"

revision:
    authors:
        -
            first_name : "Wayne"
            last_name : "Crawford"
            email: "crawford@ipgp.fr"
    date: "2017-10-04"
network:
    facility:
        ref_name: "INSU-IPGP"
        full_name: "INSU-IPGP OBS Park"
    campaign_ref_name: "GRAB-BAG"
    network_info:
        code: "4G"
        name: "GRAB BAG"
        start_date: "2007-07-01"
        end_date: "2025-12-31"
        description: "Selection of old and odd instruments"
    ref_file:  {$ref: "../instrumentation/instrumentation.yaml"}
    ref_file_type: "instrumentation"
    stations:
        "SP_1":
            notes: ["Old SPOBS(TWO CHANNELS)"]
            site: "Lucky Strike Volcano North"
            start_date: "2015-04-23T10:00:00Z"
            end_date: "2016-05-26T23:00:00Z"
            location_code: "00"
            instruments:
                -
                    ref_code: "SPOBS1"
                    serial_number: "13"
                    channel_mods: {base: {datalogger: {config: "62.5sps"}}}
            locations:
                "00":
                    <<: *LOC_ACOUSTIC
                    position: {lon: -32.27909, lat: 37.31960, elev: -1798}
            processing:
                - clock_correct_linear_drift:
                        <<: *LINEAR_CLOCK_DEFAULTS
                        start_sync_reference: "2015-04-22T09:21:00Z"
                        end_sync_reference: "2016-05-28T22:59:00.1843Z"
                        end_sync_instrument: "2016-05-28T22:59:02Z"
        "BBOBS1":
            notes: ["Pre-2012 BBOBS configuration"]
            site: "Lucky Strike Volcano Fake BBOBS"
            start_date: "2015-04-23T10:00:00Z"
            end_date: "2016-05-28T15:37:00Z"
            location_code: "00"
            instruments:
                -
                    ref_code: "BBOBS1"
                    config: "pre-2012"
                    serial_number: "02"
                    channel_mods: {base: {datalogger: {config: "62.5sps"}}}
            locations:
                "00":
                    <<: *LOC_BUC_DROP
                    position: {lon: -32.29756, lat: 37.26049, elev: -1887}
            processing:
                - clock_corrections:
                    linear_drift:
                        <<: *LINEAR_CLOCK_DEFAULTS
                        start_sync_reference: "2015-04-22T12:24:00Z"
                        end_sync_reference: "2016-05-28T15:35:00.3660Z"
                        end_sync_instrument: "2016-05-28T15:35:02Z"
        "HOCT":
            notes: ["HYDROCTOPUS, MULTIPLE SENSORS WITH SAME CHANNEL CODE"]
            site: "Lucky Strike Volcano Fake HydroOctopus"
            start_date: "2015-04-23T10:00:00Z"
            end_date: "2016-05-28T15:37:00Z"
            location_code: "00"
            instruments:
                -
                    ref_code: "HydOct1"
                    serial_number: "01"
                    channel_mods:
                        base:
                            datalogger: {config: "250sps"}
                            sensor: {code: "HITECH_HTI04-PLC-ULF"}
                        by_das:
                            "1":
                                location_code: "00"
                                sensor: {serial_number: "4500"}
                            "2":
                                location_code: "01"
                                sensor: {serial_number: "4501"}
                            "3":
                                location_code: "02"
                                sensor: {serial_number: "4502"}
                            "4":
                                location_code: "03"
                                sensor:
                                    code: "HITECH_HTI90U"
                                    serial_number: "9601"
            locations:
                "00":
                    <<: *LOC_BUC_DIRECT
                    position: {lon: -32.29756, lat: 37.26049, elev: -1887}
                "01":
                    <<: *LOC_BUC_DIRECT
                    position: {lon: -32.29756, lat: 37.26051, elev: -1885}
                "02":
                    <<: *LOC_BUC_DIRECT
                    position: {lon: -32.29758, lat: 37.26049, elev: -1889}
                "03":
                    <<: *LOC_BUC_DIRECT
                    position: {lon: -32.29756, lat: 37.26047, elev: -1877}
            processing:
                - clock_correct_leapsecond:
                    time: "2016-12-31T23:59:60Z"
                    type: "+"
                    description: "Positive leapsecond (a 61-second minute)"
                    corrected_in_end_sync: Yes
                - clock_correct_linear_drift:
                    <<: *LINEAR_CLOCK_DEFAULTS
                    start_sync_reference: "2015-04-22T12:24:00"
                    end_sync_reference: "2016-05-28T15:35:00.3660"
                    end_sync_instrument: "2016-05-28T15:35:02"